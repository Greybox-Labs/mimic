server:
  listen_host: "0.0.0.0"
  listen_port: 8080

proxies:
  anthropic:
    mode: "record"
    target_host: "api.anthropic.com"
    target_port: 443
    protocol: "https"
    session_name: "anthropic-session"
  openai:
    mode: "record"
    target_host: "api.openai.com"
    target_port: 443
    protocol: "https"
    session_name: "openai-session"
  local-mock:
    mode: "mock"
    protocol: "http"
    session_name: "local-test-session"

database:
  path: "~/.mimic/recordings.db"
  connection_pool_size: 10

recording:
  session_name: "default"
  capture_headers: true
  capture_body: true
  redact_patterns:
    - "Authorization: Bearer .*"
    - "X-Api-Key: .*"

mock:
  matching_strategy: "exact" # exact | pattern | fuzzy | fuzzy-unordered
  sequence_mode: "ordered" # ordered | random
  respect_streaming_timing: false # true to replay streaming chunks with original timing, false for immediate
  fuzzy_ignore_fields: [] # Field/header names to ignore during fuzzy matching (e.g., ["timestamp", "X-Request-Id"])
  not_found_response:
    status: 404
    body:
      error: "Recording not found"

grpc:
  proto_paths:
    - "./protos"
  reflection_enabled: true

export:
  format: "json"
  pretty_print: true
  compress: false
